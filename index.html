<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login | Discord Control Panel</title>
  <style>
    /* Add your CSS styles here */
  </style>
</head>
<body>
  <div id="login">
    <h2>Login with Discord</h2>
    <button onclick="loginWithDiscord()">Login</button>
  </div>

  <div id="control-panel" style="display:none;">
    <h2>Welcome, <span id="username"></span>!</h2>
    <button onclick="manageBans()">Manage Bans</button>
    <button onclick="manageMutes()">Manage Mutes</button>
  </div>

  <script>
    const CLIENT_ID = '1383279949502484611';
    const REDIRECT_URI = 'https://discord.com/oauth2/authorize?client_id=1383279949502484611&permissions=4194308&response_type=code&redirect_uri=http%3A%2F%2Fbot.260hz.xyz&integration_type=0&scope=identify+bot';
    const ALLOWED_USER_ID = '765479454780555265';

    function loginWithDiscord() {
      const url = `https://discord.com/oauth2/authorize?client_id=1383279949502484611&permissions=4194308&response_type=code&redirect_uri=http%3A%2F%2Fbot.260hz.xyz&integration_type=0&scope=identify+bot`;
      window.location.href = url;
    }

    function getTokenFromUrl() {
      const hash = window.location.hash;
      if (!hash) return null;
      const params = new URLSearchParams(hash.slice(1));
      return params.get('access_token');
    }

    async function fetchUserData(token) {
      const response = await fetch('https://discord.com/api/v10/users/@me', {
        headers: {
          'Authorization': `Bearer ${token}`
        }
      });
      return await response.json();
    }

    async function start() {
      const token = getTokenFromUrl();
      if (!token) return;

      const userData = await fetchUserData(token);
      if (userData.id !== ALLOWED_USER_ID) {
        alert('Access denied');
        return;
      }

      document.getElementById('login').style.display = 'none';
      document.getElementById('control-panel').style.display = 'block';
      document.getElementById('username').textContent = `${userData.username}#${userData.discriminator}`;
    }

    window.onload = start;
  </script>
</body>
</html
